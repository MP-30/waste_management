{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="grid-x">
    <!-- Sidebar -->
    <div class="cell large-2">
        <div class="sidebar">
            <div class="logo text-center">
                <img src="{% static 'images/logo.png' %}" alt="Logo" style="max-width: 150px; margin: 1rem 0;">
            </div>
            
            <!-- Dynamic Sidebar Navigation -->
            <ul class="vertical menu">
                {% block sidebar_items %}
                <!-- Will be overridden by specific dashboard templates -->
                {% endblock %}
            </ul>

            <!-- Common bottom section -->
            <div class="sidebar-bottom">
                <div class="updates-section">
                    <h6><i class="fas fa-bell"></i> Updates</h6>
                    <p class="small">Latest system updates and notifications will appear here.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="cell large-10">
        <div class="top-bar">
            <div class="top-bar-left">
                <h4>{% block dashboard_title %}Dashboard{% endblock %}</h4>
            </div>
            <div class="top-bar-right">
                <ul class="dropdown menu" data-dropdown-menu>
                    <li>
                        <a href="#"><i class="fas fa-user-circle"></i> {{ request.user.username }}</a>
                        <ul class="menu">
                            <li><a href="{% url 'organization_settings' %}">Organization Settings</a></li>
                            <li><a href="{% url 'logout' %}">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <div class="dashboard-content">
            {% block dashboard_content %}
            <!-- Will be overridden by specific dashboard templates -->
            {% endblock %}
        </div>
    </div>
</div>

<!-- Add custom styles -->
<style>
.sidebar {
    background: #fff;
    height: 100vh;
    position: fixed;
    width: 16.666667%;
    border-right: 1px solid #e6e6e6;
    padding: 1rem;
    overflow-y: auto;
}

.sidebar .menu {
    margin-top: 2rem;
}

.sidebar .menu a {
    color: #333;
    padding: 0.7rem 1rem;
    font-size: 0.9rem;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.sidebar .menu a:hover,
.sidebar .menu a.active {
    background: #f0f0f0;
    color: #1779ba;
}

.sidebar .menu a i {
    color: #1779ba;
}

.sidebar-bottom {
    position: absolute;
    bottom: 2rem;
    width: calc(100% - 2rem);
    padding: 1rem;
    border-top: 1px solid #e6e6e6;
}

.updates-section {
    font-size: 0.8rem;
    color: #666;
}

.updates-section h6 {
    color: #333;
    margin-bottom: 0.5rem;
}

.top-bar {
    background: #fff;
    border-bottom: 1px solid #e6e6e6;
    padding: 1rem;
    margin-bottom: 2rem;
}

.dashboard-content {
    padding: 1rem 2rem;
    margin-left: 16.666667%;
}

.menu.vertical > li {
    margin-bottom: 0.5rem;
}

.menu > li > a {
    display: flex;
    align-items: center;
}

.menu > li > a i {
    margin-right: 0.5rem;
    width: 20px;
    text-align: center;
}

.dropdown.menu > li.is-dropdown-submenu-parent > a::after {
    border-color: #1779ba transparent transparent;
}
</style>
{% endblock %} 